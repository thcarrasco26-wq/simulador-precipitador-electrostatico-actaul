body {margin:0; height:100vh; background:#000; overflow:hidden; font-family:Arial; color:#fff;}
#world {width:400vw; height:100vh; display:flex; position:relative;
    transition: transform 2s cubic-bezier(0.3,0,0.1,1);}
.stage {width:100vw; height:100vh; position:relative;}
.chamber {
    position:absolute; top:100px; left:100px; right:100px; bottom:100px;
    border:20px solid #ff0;
    border-image:repeating-linear-gradient(45deg,#000 0px,#000 15px,#ff0 15px,#ff0 30px) 20;
    box-shadow:0 0 60px #ff0;
}
.particle {
    position:absolute; width:12px; height:12px; border-radius:50%;
    pointer-events:none;
}
.dirty {background:#fff; box-shadow:0 0 12px #fff;}
.charged {background:#00f; box-shadow:0 0 30px #0ff; transform:scale(1.4);}
.clean {background:#0f0; box-shadow:0 0 25px #0f0; animation:float 6s infinite ease-in-out;}

@keyframes float {
    0%,100% {transform:translateY(0)   rotate(0deg);}
    50%     {transform:translateY(-40px) rotate(5deg);}
}

.plate {
    position:absolute; top:0; width:40px; height:100%;
    background:repeating-linear-gradient(90deg,#f00,#f00 25px,#900 25px,#900 50px);
    opacity:0;
}
.plate.active {opacity:0.8; animation:flash 1.2s infinite;}
@keyframes flash{0%,100%{opacity:0.8}50%{opacity:0.4}}

#controls {
    position:fixed; bottom:40px; left:50%; transform:translateX(-50%);
    z-index:999; display:flex; gap:40px;
}
button {
    padding:20px 45px; font-size:26px; font-weight:bold;
    border:none; border-radius:15px; cursor:pointer; color:white;
}
#before{background:#c00;} #reset{background:#555;} #next{background:#0b0; box-shadow:0 0 30px #0f0;}

h2 {
    position:absolute; top:30px; left:50%; transform:translateX(-50%);
    font-size:36px; color:#ff0; text-shadow:0 0 20px #ff0; z-index:10;
}
